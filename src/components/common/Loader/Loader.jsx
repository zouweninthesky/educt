import React, { useEffect, useState } from "react";

import "./Loader.scss";

const Loader = (props) => {
  const [className, setClassName] = useState("");

  const spinnerInterval = setInterval(() => {
    if (className === "active") setClassName(() => "");
    else setClassName(() => "active");
  }, 3600);

  useEffect(() => {
    setClassName("active");

    return () => {
      clearInterval(spinnerInterval);
    };
  }, [spinnerInterval]);

  const width = props.width || 324;
  const height = props.height || 76;

  console.log("Эх " + props.loading);

  if (props.loading === false) {
    console.log("Ух " + props.loading);
    clearInterval(spinnerInterval);
    return <></>;
  }

  return (
    <div className="loader">
      <svg
        width={width}
        height={height}
        viewBox="0 0 324 76"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className={className}
      >
        <path
          d="M53.2084 50.5838H21.6315C22.1481 53.3384 23.4073 55.5922 25.4091 57.3452C27.4755 59.0355 30.3814 59.8807 34.1267 59.8807C36.8388 59.8807 39.3895 59.3799 41.7788 58.3782C44.168 57.3139 46.073 55.8426 47.4936 53.9645C51.8201 56.0305 57.5672 58.253 64.735 60.632C62.7332 65.0144 59.0847 68.5203 53.7896 71.1497C48.5591 73.7166 41.7142 75 33.2549 75C22.2773 75 14.1409 72.5584 8.8458 67.6751C3.61527 62.7293 1 56.2496 1 48.236C1 40.4103 3.61527 34.0558 8.8458 29.1726C14.0763 24.2893 22.2127 21.8477 33.2549 21.8477C39.8415 21.8477 45.5564 22.912 50.3995 25.0406C55.2425 27.1692 58.9556 30.143 61.5386 33.9619C64.1215 37.7183 65.413 42.0381 65.413 46.9213C65.413 48.5491 65.3484 49.7699 65.2193 50.5838H53.2084ZM34.611 36.0279C31.3823 36.0279 28.7347 36.6227 26.6683 37.8122C24.6019 39.0017 23.149 40.6294 22.3096 42.6954H45.1689C44.394 40.692 43.1348 39.0956 41.3913 37.9061C39.6478 36.654 37.3877 36.0279 34.611 36.0279Z"
          fill="#0084D9"
          className="svg-elem-1"
        ></path>
        <path
          d="M135.503 1C135.116 12.6447 134.922 24.8215 134.922 37.5305C134.922 50.1142 135.116 62.291 135.503 74.0609H113.612L113.903 62.7919C112.03 66.9865 109.318 70.0855 105.767 72.0888C102.215 74.0296 98.0176 75 93.1745 75C88.9771 75 85.1995 73.8418 81.8417 71.5254C78.4838 69.209 75.8685 66.0787 73.9959 62.1345C72.1232 58.1278 71.1869 53.7453 71.1869 48.9873C71.1869 44.2919 72.1232 39.8782 73.9959 35.7462C75.8685 31.5516 78.4838 28.2022 81.8417 25.698C85.2641 23.1311 89.1386 21.8477 93.4651 21.8477C98.5019 21.8477 102.796 22.8807 106.348 24.9467C109.964 26.9501 112.644 30.0804 114.387 34.3376C114.387 30.769 114.258 25.0406 114 17.1523C113.741 9.51438 113.612 4.13029 113.612 1H135.503ZM103.345 59.2233C106.509 59.2233 109.092 58.3782 111.094 56.6878C113.096 54.9348 114.097 52.1802 114.097 48.4239C114.097 45.1057 113.096 42.6641 111.094 41.099C109.092 39.5338 106.574 38.7513 103.539 38.7513C100.633 38.7513 98.179 39.6591 96.1772 41.4746C94.24 43.2276 93.2713 45.544 93.2713 48.4239C93.2713 51.6167 94.1754 54.2149 95.9835 56.2183C97.7916 58.2216 100.245 59.2233 103.345 59.2233Z"
          fill="#0084D9"
          className="svg-elem-2"
        ></path>
        <path
          d="M202.858 22.7868C202.406 30.6751 202.18 39.1895 202.18 48.33C202.18 57.533 202.406 66.11 202.858 74.0609C198.725 73.8731 195.464 73.7792 193.075 73.7792C190.815 73.7792 187.554 73.8731 183.292 74.0609L180.483 60.2563C178.998 65.2648 176.673 68.9898 173.509 71.4315C170.345 73.8105 166.664 75 162.467 75C158.592 75 155.235 74.1861 152.393 72.5584C149.552 70.868 147.389 68.6142 145.904 65.797C144.483 62.9797 143.773 59.8181 143.773 56.3122V42.7893C143.773 34.4628 143.611 27.7953 143.288 22.7868H165.082C164.695 31.9899 164.501 41.099 164.501 50.1142C164.501 52.8689 165.179 55.0601 166.535 56.6878C167.956 58.3156 169.732 59.1294 171.862 59.1294C173.864 59.1294 175.608 58.2843 177.093 56.5939C178.643 54.841 179.579 52.4619 179.902 49.4569V47.297C180.031 42.4137 180.096 39.033 180.096 37.1548C180.096 32.835 179.967 28.0457 179.708 22.7868H202.858Z"
          fill="#0084D9"
          className="svg-elem-3"
        ></path>
        <path
          d="M230.3 48.4239C230.43 51.6167 231.463 54.1836 233.4 56.1244C235.402 58.0651 238.34 59.0355 242.214 59.0355C244.345 59.0355 246.25 58.6599 247.929 57.9086C249.608 57.0948 251.158 55.9053 252.579 54.3401C258.067 56.4061 264.493 58.1903 271.854 59.6929C269.723 64.5135 266.107 68.2699 261.006 70.9619C255.969 73.654 249.414 75 241.343 75C230.559 75 222.584 72.5584 217.418 67.6751C212.252 62.7919 209.669 56.3748 209.669 48.4239C209.669 40.4729 212.252 34.0558 217.418 29.1726C222.584 24.2893 230.559 21.8477 241.343 21.8477C249.414 21.8477 255.969 23.1937 261.006 25.8858C266.107 28.5778 269.723 32.3342 271.854 37.1548C266.107 38.3443 259.682 40.1286 252.579 42.5076C251.158 40.9425 249.608 39.7843 247.929 39.033C246.25 38.2191 244.345 37.8122 242.214 37.8122C238.34 37.8122 235.402 38.7826 233.4 40.7234C231.463 42.6641 230.43 45.231 230.3 48.4239Z"
          fill="#0084D9"
          className="svg-elem-4"
        ></path>
        <path
          d="M323 39.5965C317.059 39.2208 311.635 38.9391 306.727 38.7513L306.63 48.7056C306.63 52.0863 307.373 54.747 308.858 56.6878C310.408 58.566 313.12 59.5051 316.995 59.5051C318.48 59.5051 319.9 59.3799 321.257 59.1294C320.998 61.4459 320.869 63.7936 320.869 66.1726C320.869 67.2995 320.934 69.8663 321.063 73.8731C318.222 74.3739 315.832 74.687 313.895 74.8122C311.958 74.9374 309.439 75 306.34 75C298.785 75 293.425 73.247 290.261 69.7411C287.161 66.1726 285.611 61.2267 285.611 54.9035L285.708 39.033C282.673 39.1582 279.509 39.346 276.216 39.5965V22.9746C279.574 22.9746 282.415 21.9416 284.74 19.8756C287.064 17.8096 288.453 15.3367 288.905 12.4569H315.251C311.958 16.8393 308.309 20.3452 304.306 22.9746H323V39.5965Z"
          fill="#0084D9"
          className="svg-elem-5"
        ></path>
        <path
          d="M53.2084 50.5838H21.6315C22.1481 53.3384 23.4073 55.5922 25.4091 57.3452C27.4755 59.0355 30.3814 59.8807 34.1267 59.8807C36.8388 59.8807 39.3895 59.3799 41.7788 58.3782C44.168 57.3139 46.073 55.8426 47.4936 53.9645C51.8201 56.0305 57.5672 58.253 64.735 60.632C62.7332 65.0144 59.0847 68.5203 53.7896 71.1497C48.5591 73.7166 41.7142 75 33.2549 75C22.2773 75 14.1409 72.5584 8.8458 67.6751C3.61527 62.7293 1 56.2496 1 48.236C1 40.4103 3.61527 34.0558 8.8458 29.1726C14.0763 24.2893 22.2127 21.8477 33.2549 21.8477C39.8415 21.8477 45.5564 22.912 50.3995 25.0406C55.2425 27.1692 58.9556 30.143 61.5386 33.9619C64.1215 37.7183 65.413 42.0381 65.413 46.9213C65.413 48.5491 65.3484 49.7699 65.2193 50.5838H53.2084ZM34.611 36.0279C31.3823 36.0279 28.7347 36.6227 26.6683 37.8122C24.6019 39.0017 23.149 40.6294 22.3096 42.6954H45.1689C44.394 40.692 43.1348 39.0956 41.3913 37.9061C39.6478 36.654 37.3877 36.0279 34.611 36.0279Z"
          stroke="#0084D9"
          strokeWidth="2"
          className="svg-elem-6"
        ></path>
        <path
          d="M135.503 1C135.116 12.6447 134.922 24.8215 134.922 37.5305C134.922 50.1142 135.116 62.291 135.503 74.0609H113.612L113.903 62.7919C112.03 66.9865 109.318 70.0855 105.767 72.0888C102.215 74.0296 98.0176 75 93.1745 75C88.9771 75 85.1995 73.8418 81.8417 71.5254C78.4838 69.209 75.8685 66.0787 73.9959 62.1345C72.1232 58.1278 71.1869 53.7453 71.1869 48.9873C71.1869 44.2919 72.1232 39.8782 73.9959 35.7462C75.8685 31.5516 78.4838 28.2022 81.8417 25.698C85.2641 23.1311 89.1386 21.8477 93.4651 21.8477C98.5019 21.8477 102.796 22.8807 106.348 24.9467C109.964 26.9501 112.644 30.0804 114.387 34.3376C114.387 30.769 114.258 25.0406 114 17.1523C113.741 9.51438 113.612 4.13029 113.612 1H135.503ZM103.345 59.2233C106.509 59.2233 109.092 58.3782 111.094 56.6878C113.096 54.9348 114.097 52.1802 114.097 48.4239C114.097 45.1057 113.096 42.6641 111.094 41.099C109.092 39.5338 106.574 38.7513 103.539 38.7513C100.633 38.7513 98.179 39.6591 96.1772 41.4746C94.24 43.2276 93.2713 45.544 93.2713 48.4239C93.2713 51.6167 94.1754 54.2149 95.9835 56.2183C97.7916 58.2216 100.245 59.2233 103.345 59.2233Z"
          stroke="#0084D9"
          strokeWidth="2"
          className="svg-elem-7"
        ></path>
        <path
          d="M202.858 22.7868C202.406 30.6751 202.18 39.1895 202.18 48.33C202.18 57.533 202.406 66.11 202.858 74.0609C198.725 73.8731 195.464 73.7792 193.075 73.7792C190.815 73.7792 187.554 73.8731 183.292 74.0609L180.483 60.2563C178.998 65.2648 176.673 68.9898 173.509 71.4315C170.345 73.8105 166.664 75 162.467 75C158.592 75 155.235 74.1861 152.393 72.5584C149.552 70.868 147.389 68.6142 145.904 65.797C144.483 62.9797 143.773 59.8181 143.773 56.3122V42.7893C143.773 34.4628 143.611 27.7953 143.288 22.7868H165.082C164.695 31.9899 164.501 41.099 164.501 50.1142C164.501 52.8689 165.179 55.0601 166.535 56.6878C167.956 58.3156 169.732 59.1294 171.862 59.1294C173.864 59.1294 175.608 58.2843 177.093 56.5939C178.643 54.841 179.579 52.4619 179.902 49.4569V47.297C180.031 42.4137 180.096 39.033 180.096 37.1548C180.096 32.835 179.967 28.0457 179.708 22.7868H202.858Z"
          stroke="#0084D9"
          strokeWidth="2"
          className="svg-elem-8"
        ></path>
        <path
          d="M230.3 48.4239C230.43 51.6167 231.463 54.1836 233.4 56.1244C235.402 58.0651 238.34 59.0355 242.214 59.0355C244.345 59.0355 246.25 58.6599 247.929 57.9086C249.608 57.0948 251.158 55.9053 252.579 54.3401C258.067 56.4061 264.493 58.1903 271.854 59.6929C269.723 64.5135 266.107 68.2699 261.006 70.9619C255.969 73.654 249.414 75 241.343 75C230.559 75 222.584 72.5584 217.418 67.6751C212.252 62.7919 209.669 56.3748 209.669 48.4239C209.669 40.4729 212.252 34.0558 217.418 29.1726C222.584 24.2893 230.559 21.8477 241.343 21.8477C249.414 21.8477 255.969 23.1937 261.006 25.8858C266.107 28.5778 269.723 32.3342 271.854 37.1548C266.107 38.3443 259.682 40.1286 252.579 42.5076C251.158 40.9425 249.608 39.7843 247.929 39.033C246.25 38.2191 244.345 37.8122 242.214 37.8122C238.34 37.8122 235.402 38.7826 233.4 40.7234C231.463 42.6641 230.43 45.231 230.3 48.4239Z"
          stroke="#0084D9"
          strokeWidth="2"
          className="svg-elem-9"
        ></path>
        <path
          d="M323 39.5965C317.059 39.2208 311.635 38.9391 306.727 38.7513L306.63 48.7056C306.63 52.0863 307.373 54.747 308.858 56.6878C310.408 58.566 313.12 59.5051 316.995 59.5051C318.48 59.5051 319.9 59.3799 321.257 59.1294C320.998 61.4459 320.869 63.7936 320.869 66.1726C320.869 67.2995 320.934 69.8663 321.063 73.8731C318.222 74.3739 315.832 74.687 313.895 74.8122C311.958 74.9374 309.439 75 306.34 75C298.785 75 293.425 73.247 290.261 69.7411C287.161 66.1726 285.611 61.2267 285.611 54.9035L285.708 39.033C282.673 39.1582 279.509 39.346 276.216 39.5965V22.9746C279.574 22.9746 282.415 21.9416 284.74 19.8756C287.064 17.8096 288.453 15.3367 288.905 12.4569H315.251C311.958 16.8393 308.309 20.3452 304.306 22.9746H323V39.5965Z"
          stroke="#0084D9"
          strokeWidth="2"
          className="svg-elem-10"
        ></path>
      </svg>
    </div>
  );
};

export default Loader;
